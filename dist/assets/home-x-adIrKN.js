import{_ as $,u as K,r as d,c as y,o as W,a as b,b as _,d as v,e,f as h,t as s,g as C,h as I,w as L,F as R,i as F,n as M,j as P,p as X,k as Z}from"./index-3yue8pkF.js";import{s as ee,g as ae,a as te,b as ne,c as se,d as oe,e as le}from"./taobao-DLH7sWZA.js";const m=k=>(X("data-v-a77a7523"),k=k(),Z(),k),ce={class:"page-container"},ue={class:"num-container"},ie={class:"total"},re={class:"free-num"},de={class:"green"},_e={class:"search-container"},ve={class:"data-list-container"},he={class:"name"},fe=["onClick"],pe={class:"detail-dialog"},ge={class:"name"},me={key:0,class:"info-container"},ke=m(()=>e("span",null,"买家信用：",-1)),we=m(()=>e("span",null,"周均信誉点数：",-1)),Se=m(()=>e("span",null,"是否实名：",-1)),De=m(()=>e("span",null,"注册时间：",-1)),ye=m(()=>e("span",null,"查询时间：",-1)),Ie={class:"search-info"},be={class:"label"},Ce={__name:"home",setup(k){const N=K();let p=d({todayLeftFreeNum:0,freeNumEveryDay:0}),T=d([]);const x=d(1),f=d(),w=d(!1),S=d({}),o=d(null);let V=y(()=>p.value.freeNumEveryDay),E=y(()=>p.value.todayLeftFreeNum);const G=y(()=>{const{data:a,msg:t}=S.value;return!a||a.length==0?{}:{...a[0],msg:t}}),j=y(()=>{const{msg:a=0,chaping:t=0,dajia:l=0,paodan:u=0,pianzi:i=0,pitu:n=0,qiaozha:r=0,taoke:g=0,xujia:D=0}=G.value||{};return[{label:"降权处置",value:a},{label:"跑单",value:u},{label:"骗子",value:i},{label:"差评",value:t},{label:"打假",value:l},{label:"敲诈",value:r},{label:"虚假交易",value:D},{label:"淘客",value:g},{label:"P图",value:n}]});W(()=>{J()&&(c().getRenderInfo(),c().getAllSearchListInfo())});const J=()=>{const a=document.cookie,t=a.indexOf("_sid_")!=-1&&a.indexOf("PLAY_SESSION")!=-1;return t||(ee({type:"warning",message:"请先登录"}),N.replace("/login")),t},O=()=>{q(),N.replace("/login")},U=()=>{o.value=null,c().getQuickSearchInfo()},B=()=>{c().getSearchDetailInfoData()},Q=a=>{c().getDetailInfoData(a)},Y=()=>{o.value=null},z=()=>{window.location.href="https://gdrpsujiao.github.io"},c=()=>({getRenderInfo:async()=>{const{data:a}=await ae(),{ok:t,res:l}=a;t&&(p.value=l)},getAllSearchListInfo:async a=>{const{wangwang:t}=a||{},{data:l}=await te({wangwang:t,status:0,pn:x.value,ps:10}),{ok:u,res:i}=l;if(u){let n=!1;const r=i.reduce((g,D)=>{const{status:A}=D;A==1&&(n=!0);const H={1:"已提交, 稍后自动重新获取数据",4:"已完成"};return g.push({...D,statusResult:H[A]}),g},[]);T.value=r,n&&x.value===1&&setTimeout(()=>{c().getAllSearchListInfo()},1e4)}},getQuickSearchInfo:async()=>{const{data:a}=await ne({wangwang:f.value,isCanUsePoint:!1}),{res:t,ok:l,count:u}=a;if(l){p.value.todayLeftFreeNum=u;const{resMap:i}=t||{},n=i[f.value];S.value={wangwang:f.value,...n},w.value=!0}},getDetailInfoData:async a=>{const{data:t}=await se({infoid:a});o.value=t,c().getDetailSearchInfoData(t.wangwang)},getDetailSearchInfoData:async a=>{const{data:t}=await oe({wangwang:a});S.value={...t,wangwang:a},w.value=!0},getSearchDetailInfoData:async()=>{const{data:a}=await le({wangwang:f.value,isCanUsePoint:!1}),{ok:t,count:l}=a;t&&(p.value.todayLeftFreeNum=l,c().getAllSearchListInfo())}}),q=()=>{document.cookie="_sid_=; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="PLAY_ERRORS=; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="PLAY_FLASH=; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="_bak_sid_=; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="PLAY_SESSION=; expires=Thu, 01 Jan 1970 00:00:00 GMT"};return(a,t)=>{const l=b("van-field"),u=b("van-button"),i=b("van-dialog");return _(),v("section",ce,[e("div",ue,[e("div",ie,[h(" 会员每天能查"),e("span",null,s(C(V)),1),h(" 次 ")]),e("div",re,[h(" 当天剩余"),e("span",de,s(C(E)),1),h(" 次 ")]),e("span",{class:"logout",onClick:O},"退出")]),e("div",_e,[I(l,{modelValue:f.value,"onUpdate:modelValue":t[0]||(t[0]=n=>f.value=n),"left-icon":"contact-o",placeholder:"输入旺旺号"},null,8,["modelValue"]),I(u,{onClick:U},{default:L(()=>[h("急速照妖")]),_:1}),I(u,{type:"primary",onClick:B},{default:L(()=>[h("仔细查询")]),_:1})]),e("section",ve,[(_(!0),v(R,null,F(C(T),(n,r)=>(_(),v("div",{class:"info-card",key:r},[e("div",he," 旺旺名: "+s(n.wangwang),1),e("ul",null,[e("li",null,[h(" 状态： "),e("span",{class:M([n.status==4?"success":""])},s(n.statusResult),3)])]),n.status==4?(_(),v("span",{key:0,class:"detail",onClick:g=>Q(n.id)},"查看详情",8,fe)):P("",!0)]))),128))]),I(i,{show:w.value,"onUpdate:show":t[1]||(t[1]=n=>w.value=n),title:o.value?"照妖详情":"急速照妖",showConfirmButton:!1,"close-on-click-overlay":!0,onClosed:Y},{default:L(()=>[e("div",pe,[e("div",ge," 旺旺号： "+s(S.value.wangwang),1),o.value?(_(),v("div",me,[e("ul",null,[e("li",null,[ke,e("span",null,s(o.value.buyerScore)+" （好评 "+s(o.value.buyerGoodNum)+"） ",1)]),e("li",null,[we,e("span",null,s(o.value.weekCreditAverage),1)]),e("li",null,[Se,e("span",null,s(o.value.realName),1)]),e("li",null,[De,e("span",null,s(o.value.wwcreatedStr),1)]),e("li",null,[ye,e("span",null,s(o.value.finishTsStr),1)])])])):P("",!0),e("ul",Ie,[(_(!0),v(R,null,F(j.value,(n,r)=>(_(),v("li",{key:r},[e("span",be,s(n.label),1),e("span",{class:M(["value",{danger:n.value}])},s(n.value),3)]))),128))])])]),_:1},8,["show","title"]),e("footer",null,[e("span",{onClick:z},"去计算器页面")])])}}},Te=$(Ce,[["__scopeId","data-v-a77a7523"]]);export{Te as default};
